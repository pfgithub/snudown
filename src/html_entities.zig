// gperf replacement

const std = @import("std");

export const MAX_NUM_ENTITY_LEN: usize = 7;
export const MAX_NUM_ENTITY_VAL: u32 = 0x10ffff;

// zig fmt: off
export fn is_valid_numeric_entity(entity_val: u32) callconv(.C) c_int {
    return @boolToInt(entity_val > 8
        and (entity_val != 11 and entity_val != 12)
        and (entity_val < 14 or entity_val > 31)
        and (entity_val < 55296 or entity_val > 57343)
        and (entity_val != 65534 and entity_val != 65535)
        and entity_val <= MAX_NUM_ENTITY_VAL
    );
}
// zig fmt: on
export fn is_allowed_named_entity(str: [*]const u8, len: usize) ?[*:0]const u8 {
    if (entity_names.has(str[0..len])) return "matches";
    return null;
}

// zig fmt: off
const entity_names = blk: {
    @setEvalBranchQuota(50_000);
    break :blk std.ComptimeStringMap(void, .{
        .{ "&AElig;",    {} },
        .{ "&Aacute;",   {} },
        .{ "&Acirc;",    {} },
        .{ "&Agrave;",   {} },
        .{ "&Alpha;",    {} },
        .{ "&Aring;",    {} },
        .{ "&Atilde;",   {} },
        .{ "&Auml;",     {} },
        .{ "&Beta;",     {} },
        .{ "&Ccedil;",   {} },
        .{ "&Chi;",      {} },
        .{ "&Dagger;",   {} },
        .{ "&Delta;",    {} },
        .{ "&ETH;",      {} },
        .{ "&Eacute;",   {} },
        .{ "&Ecirc;",    {} },
        .{ "&Egrave;",   {} },
        .{ "&Epsilon;",  {} },
        .{ "&Eta;",      {} },
        .{ "&Euml;",     {} },
        .{ "&Gamma;",    {} },
        .{ "&Iacute;",   {} },
        .{ "&Icirc;",    {} },
        .{ "&Igrave;",   {} },
        .{ "&Iota;",     {} },
        .{ "&Iuml;",     {} },
        .{ "&Kappa;",    {} },
        .{ "&Lambda;",   {} },
        .{ "&Mu;",       {} },
        .{ "&Ntilde;",   {} },
        .{ "&Nu;",       {} },
        .{ "&OElig;",    {} },
        .{ "&Oacute;",   {} },
        .{ "&Ocirc;",    {} },
        .{ "&Ograve;",   {} },
        .{ "&Omega;",    {} },
        .{ "&Omicron;",  {} },
        .{ "&Oslash;",   {} },
        .{ "&Otilde;",   {} },
        .{ "&Ouml;",     {} },
        .{ "&Phi;",      {} },
        .{ "&Pi;",       {} },
        .{ "&Prime;",    {} },
        .{ "&Psi;",      {} },
        .{ "&Rho;",      {} },
        .{ "&Scaron;",   {} },
        .{ "&Sigma;",    {} },
        .{ "&THORN;",    {} },
        .{ "&Tau;",      {} },
        .{ "&Theta;",    {} },
        .{ "&Uacute;",   {} },
        .{ "&Ucirc;",    {} },
        .{ "&Ugrave;",   {} },
        .{ "&Upsilon;",  {} },
        .{ "&Uuml;",     {} },
        .{ "&Xi;",       {} },
        .{ "&Yacute;",   {} },
        .{ "&Yuml;",     {} },
        .{ "&Zeta;",     {} },
        .{ "&aacute;",   {} },
        .{ "&acirc;",    {} },
        .{ "&acute;",    {} },
        .{ "&aelig;",    {} },
        .{ "&agrave;",   {} },
        .{ "&alefsym;",  {} },
        .{ "&alpha;",    {} },
        .{ "&amp;",      {} },
        .{ "&and;",      {} },
        .{ "&ang;",      {} },
        .{ "&apos;",     {} },
        .{ "&aring;",    {} },
        .{ "&asymp;",    {} },
        .{ "&atilde;",   {} },
        .{ "&auml;",     {} },
        .{ "&bdquo;",    {} },
        .{ "&beta;",     {} },
        .{ "&brvbar;",   {} },
        .{ "&bull;",     {} },
        .{ "&cap;",      {} },
        .{ "&ccedil;",   {} },
        .{ "&cedil;",    {} },
        .{ "&cent;",     {} },
        .{ "&chi;",      {} },
        .{ "&circ;",     {} },
        .{ "&clubs;",    {} },
        .{ "&cong;",     {} },
        .{ "&copy;",     {} },
        .{ "&crarr;",    {} },
        .{ "&cup;",      {} },
        .{ "&curren;",   {} },
        .{ "&dArr;",     {} },
        .{ "&dagger;",   {} },
        .{ "&darr;",     {} },
        .{ "&deg;",      {} },
        .{ "&delta;",    {} },
        .{ "&diams;",    {} },
        .{ "&divide;",   {} },
        .{ "&eacute;",   {} },
        .{ "&ecirc;",    {} },
        .{ "&egrave;",   {} },
        .{ "&empty;",    {} },
        .{ "&emsp;",     {} },
        .{ "&ensp;",     {} },
        .{ "&epsilon;",  {} },
        .{ "&equiv;",    {} },
        .{ "&eta;",      {} },
        .{ "&eth;",      {} },
        .{ "&euml;",     {} },
        .{ "&euro;",     {} },
        .{ "&exist;",    {} },
        .{ "&fnof;",     {} },
        .{ "&forall;",   {} },
        .{ "&frac12;",   {} },
        .{ "&frac14;",   {} },
        .{ "&frac34;",   {} },
        .{ "&frasl;",    {} },
        .{ "&gamma;",    {} },
        .{ "&ge;",       {} },
        .{ "&gt;",       {} },
        .{ "&hArr;",     {} },
        .{ "&harr;",     {} },
        .{ "&hearts;",   {} },
        .{ "&hellip;",   {} },
        .{ "&iacute;",   {} },
        .{ "&icirc;",    {} },
        .{ "&iexcl;",    {} },
        .{ "&igrave;",   {} },
        .{ "&image;",    {} },
        .{ "&infin;",    {} },
        .{ "&int;",      {} },
        .{ "&iota;",     {} },
        .{ "&iquest;",   {} },
        .{ "&isin;",     {} },
        .{ "&iuml;",     {} },
        .{ "&kappa;",    {} },
        .{ "&lArr;",     {} },
        .{ "&lambda;",   {} },
        .{ "&lang;",     {} },
        .{ "&laquo;",    {} },
        .{ "&larr;",     {} },
        .{ "&lceil;",    {} },
        .{ "&ldquo;",    {} },
        .{ "&le;",       {} },
        .{ "&lfloor;",   {} },
        .{ "&lowast;",   {} },
        .{ "&loz;",      {} },
        .{ "&lrm;",      {} },
        .{ "&lsaquo;",   {} },
        .{ "&lsquo;",    {} },
        .{ "&lt;",       {} },
        .{ "&macr;",     {} },
        .{ "&mdash;",    {} },
        .{ "&micro;",    {} },
        .{ "&middot;",   {} },
        .{ "&minus;",    {} },
        .{ "&mu;",       {} },
        .{ "&nabla;",    {} },
        .{ "&nbsp;",     {} },
        .{ "&ndash;",    {} },
        .{ "&ne;",       {} },
        .{ "&ni;",       {} },
        .{ "&not;",      {} },
        .{ "&notin;",    {} },
        .{ "&nsub;",     {} },
        .{ "&ntilde;",   {} },
        .{ "&nu;",       {} },
        .{ "&oacute;",   {} },
        .{ "&ocirc;",    {} },
        .{ "&oelig;",    {} },
        .{ "&ograve;",   {} },
        .{ "&oline;",    {} },
        .{ "&omega;",    {} },
        .{ "&omicron;",  {} },
        .{ "&oplus;",    {} },
        .{ "&or;",       {} },
        .{ "&ordf;",     {} },
        .{ "&ordm;",     {} },
        .{ "&oslash;",   {} },
        .{ "&otilde;",   {} },
        .{ "&otimes;",   {} },
        .{ "&ouml;",     {} },
        .{ "&para;",     {} },
        .{ "&part;",     {} },
        .{ "&permil;",   {} },
        .{ "&perp;",     {} },
        .{ "&phi;",      {} },
        .{ "&pi;",       {} },
        .{ "&piv;",      {} },
        .{ "&plusmn;",   {} },
        .{ "&pound;",    {} },
        .{ "&prime;",    {} },
        .{ "&prod;",     {} },
        .{ "&prop;",     {} },
        .{ "&psi;",      {} },
        .{ "&quot;",     {} },
        .{ "&rArr;",     {} },
        .{ "&radic;",    {} },
        .{ "&rang;",     {} },
        .{ "&raquo;",    {} },
        .{ "&rarr;",     {} },
        .{ "&rceil;",    {} },
        .{ "&rdquo;",    {} },
        .{ "&real;",     {} },
        .{ "&reg;",      {} },
        .{ "&rfloor;",   {} },
        .{ "&rho;",      {} },
        .{ "&rlm;",      {} },
        .{ "&rsaquo;",   {} },
        .{ "&rsquo;",    {} },
        .{ "&sbquo;",    {} },
        .{ "&scaron;",   {} },
        .{ "&sdot;",     {} },
        .{ "&sect;",     {} },
        .{ "&shy;",      {} },
        .{ "&sigma;",    {} },
        .{ "&sigmaf;",   {} },
        .{ "&sim;",      {} },
        .{ "&spades;",   {} },
        .{ "&sub;",      {} },
        .{ "&sube;",     {} },
        .{ "&sum;",      {} },
        .{ "&sup1;",     {} },
        .{ "&sup2;",     {} },
        .{ "&sup3;",     {} },
        .{ "&sup;",      {} },
        .{ "&supe;",     {} },
        .{ "&szlig;",    {} },
        .{ "&tau;",      {} },
        .{ "&there4;",   {} },
        .{ "&theta;",    {} },
        .{ "&thetasym;", {} },
        .{ "&thinsp;",   {} },
        .{ "&thorn;",    {} },
        .{ "&tilde;",    {} },
        .{ "&times;",    {} },
        .{ "&trade;",    {} },
        .{ "&uArr;",     {} },
        .{ "&uacute;",   {} },
        .{ "&uarr;",     {} },
        .{ "&ucirc;",    {} },
        .{ "&ugrave;",   {} },
        .{ "&uml;",      {} },
        .{ "&upsih;",    {} },
        .{ "&upsilon;",  {} },
        .{ "&uuml;",     {} },
        .{ "&weierp;",   {} },
        .{ "&xi;",       {} },
        .{ "&yacute;",   {} },
        .{ "&yen;",      {} },
        .{ "&yuml;",     {} },
        .{ "&zeta;",     {} },
        .{ "&zwj;",      {} },
        .{ "&zwnj;",     {} },
    });
};
// zig fmt: on